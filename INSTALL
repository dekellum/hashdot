                      Build and Install Hashdot

Note: This needs some work, in particular use of autoconf, etc.

1. Install build dependencies:

   * GNU make (3.81+)
   * gcc (4.1.2+)
   * Apache Portable Runtime: apr, apr-devel (1.2.11+) 
   * Java JDK 
   
2. Edit Makefile

   a. Change JAVA_HOME to installed JDK to use for compiling.

      Defaults to JAVA_HOME environment variable or based on java in
      PATH.  Note the runtime JDK is configured separately in
      profiles/default.hdp (hashdot.vm.home)

   b. Change PROFILE_DIR to desired location of hashdot profiles. 

      Default: /opt/hashdot/profiles or environment variable.

      For testing, set PROFILE_DIR environment variable to
      "./profiles" (source directory). Set the PROFILE_DIR to its
      final location and rebuild before installing (see below.)
      
   c. Change INSTALL_BIN to desired install location of hashdot
      binaries.

      Default: /opt/bin

   d. (Optional) Change set of hashdot symlinks desired for install.

3. Edit ./profiles/*

   Edit profiles before installation and to get "make test" working
   with PROFILE_DIR=./profiles (see above.)

   a. Edit JVM settings in ./profiles/default.hdp 

      Note hashdot.vm.arch and hashdot.vm.lib settings for specific
      platforms.

   b. Edit jruby.hdp to point to your jruby installation.

      JRuby is required for running the tests via "make test"
 
4. Build and test
   
   Build with local profiles directory for testing prior to install:
   
   % PROFILE_DIR=./profiles make test

5. Install

   Rebuild with final PROFILE_DIR and install:

   % unset PROFILE_DIR 
   % make clean install
